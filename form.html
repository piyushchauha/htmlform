<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form</title>
  </head>
  <body>
    <div class="maincontainer">
      <div class="subcontainer">
        <form id="form1"></form>
        <div id="displaytable"></div>
      </div>
    </div>
  </body>
  <script>
    let data = [];
    let form = document.getElementById("form1");

    //Name label
    let namelabel = document.createElement("label");
    namelabel.setAttribute("for", "name");
    namelabel.innerHTML = "Name:<br>";

    //name input
    let nam = document.createElement("input");
    nam.setAttribute("type", "text");
    nam.setAttribute("id", "name");

    //email label
    let emaillabel = document.createElement("label");
    emaillabel.setAttribute("for", "name");
    emaillabel.innerHTML = "Email:<br>";

    //email input
    let em = document.createElement("input");
    em.setAttribute("type", "email");
    em.setAttribute("id", "email");

    //contact label
    let contactlabel = document.createElement("label");
    contactlabel.setAttribute("for", "name");
    contactlabel.innerHTML = "Contact:<br>";

    //contact input
    let cont = document.createElement("input");
    cont.setAttribute("type", "tel");
    cont.setAttribute("id", "contact");

    //Gender radio button
    const male = document.createElement("input");
    male.type = "radio";
    male.name = "gender";
    male.id = "male";
    male.value = "Male";

    const malelabel = document.createElement("label");
    malelabel.maleFor = "Male";
    malelabel.textContent = "Male";

    const female = document.createElement("input");
    female.type = "radio";
    female.id = "male";
    female.name = "gender";
    female.value = "Female";

    const femalelabel = document.createElement("label");
    femalelabel.maleFor = "Female";
    femalelabel.textContent = "Female";

    const genderlabel = document.createElement("label");
    genderlabel.innerHTML = "Gender:<br>";

    //Hobby Checkbox
    const hobbylabel = document.createElement("label");
    hobbylabel.innerHTML = "Hobby:<br>";

    //GYM
    const gym = document.createElement("input");
    gym.type = "checkbox";
    gym.id = "gym";
    gym.value = "Gym";
    gym.name = "hobby";
    const gymlabel = document.createElement("label");
    gymlabel.innerHTML = "Gym";

    //Music
    const musiclabel = document.createElement("label");
    musiclabel.innerHTML = "music";
    const music = document.createElement("input");
    music.type = "checkbox";
    music.id = "music";
    music.value = "Music";
    music.name = "hobby";

    //  jogging
    const joglabel = document.createElement("label");
    joglabel.innerHTML = "Jogging";
    const jog = document.createElement("input");
    jog.type = "checkbox";
    jog.id = "jog";
    jog.value = "Jogging";
    jog.name = "hobby";

    //submit button
    let sub = document.createElement("button");
    sub.setAttribute("type", "submit");
    sub.innerHTML = "Submit";
    sub.style.marginTop = "10px";
    sub.style.marginBottom = "10px";

    // }

    //Table
    let table = document.createElement("table");
    table.style.border = "1px solid black";
    document.getElementById("displaytable").append(table);
    let thead = document.createElement("thead");
    let tbody = document.createElement("tbody");

    let header = ["Name", "Email", "Contact", "Gender", "Hobby"];
    let tr = document.createElement("tr");
    for (let i = 0; i < header.length; i++) {
      let th = document.createElement("th");
      th.style.border = "1px solid black";
      th.innerHTML = header[i];
      tr.append(th);
    }
    thead.append(tr);
    table.append(thead);
    table.append(tbody);

    form.append(namelabel);
    form.append(nam);
    form.append(document.createElement("br"));
    form.append(emaillabel);
    form.append(em);
    form.append(document.createElement("br"));
    form.append(contactlabel);
    form.append(cont);
    form.append(document.createElement("br"));
    form.append(genderlabel);
    form.append(male);
    form.append(malelabel);
    form.append(female);
    form.append(femalelabel);
    form.append(document.createElement("br"));
    form.append(hobbylabel);
    form.append(gym);
    form.append(gymlabel);
    form.append(music);
    form.append(musiclabel);
    form.append(jog);
    form.append(joglabel);
    form.append(document.createElement("br"));
    form.append(sub);
    form.append(document.createElement("br"));

    form.append(document.createElement("br"));
    form.append(table);

    sub.addEventListener("click", submitdata);

    function triggertable() {
      tbody.innerHTML = "";
      for (let i = 0; i < data.length; i++) {
        let tr = document.createElement("tr");
        let td1 = document.createElement("td");
        td1.style.border = "1px solid black";
        td1.innerHTML = data[i].Name;
        let td2 = document.createElement("td");
        td2.style.border = "1px solid black";
        td2.innerHTML = data[i].Email;
        let td3 = document.createElement("td");
        td3.style.border = "1px solid black";
        td3.innerHTML = data[i].Contact;
        let td4 = document.createElement("td");
        td4.style.border = "1px solid black";
        td4.innerHTML = data[i].Gender;
        let td5 = document.createElement("td");
        td5.style.border = "1px solid black";
        td5.innerHTML = data[i].Hobby;
        tr.append(td1);
        tr.append(td2);
        tr.append(td3);
        tr.append(td4);
        tr.append(td5);
        tbody.append(tr);
        table.append(tbody);
        form.append(table);
      }
    }
    // document.getElementById("form1").addEventListener("submit", function (e) {
    //   e.preventDefault();
    //   let nam = document.getElementById("name").value;
    //   let em = document.getElementById("email").value;
    //   let cont = document.getElementById("contact").value;

    //   data.push({ Name: nam, Email: em, Contact: cont });
    //   console.log(data);
    //   triggertable();
    // });

    function submitdata(e) {
      e.preventDefault();
      let nam = document.getElementById("name").value;
      let em = document.getElementById("email").value;
      let cont = document.getElementById("contact").value;
      let gen = document.querySelector('input[name="gender"]:checked')?.value;
      let hob = document.querySelector('input[name="hobby"]:checked')?.value;

      console.log(nam);
      data.push({
        Name: nam,
        Email: em,
        Contact: cont,
        Gender: gen,
        Hobby: hob,
      });
      console.log(data);
      document.getElementById("name").value = "";
      document.getElementById("email").value = "";
      document.getElementById("contact").value = "";
      document
        .querySelectorAll('input[type="radio"], input[type="checkbox"]')
        .forEach((el) => (el.checked = false));

      triggertable();
    }

    // document.getElementById("form1").addEventListener("submit", function (e) {
    //   e.preventDefault();
    //   let nam = document.getElementById("name").value;
    //   let em = document.getElementById("email").value;
    //   let cont = document.getElementById("contact").value;
    //   let data = [];
    //   data.push({ Name: nam, Email: em, Contact: cont });
    //   console.log(data);
    //   triggertable();
    // });
  </script>
</html>
